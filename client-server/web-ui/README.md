# 간단한 OPC UA 웹 모니터링

복잡한 기능 없이 **OPC UA 변수를 모니터링하고 제어**하는 최소한의 웹 UI입니다.

## 🎯 기능

- ✅ **변수 모니터링**: 4개 변수의 현재 값 확인
- ✅ **연결 상태**: OPC UA 서버 연결 상태 표시  
- ✅ **변수 제어**: MyVariable2 값 변경 (즉시 반영)
- ✅ **실시간 업데이트**: 1-10초 간격으로 설정 가능한 자동 업데이트
- ✅ **업데이트 제어**: 자동 업데이트 시작/중지
- ✅ **수동 새로고침**: 버튼 클릭으로 즉시 업데이트
- ✅ **최적화**: 페이지가 보이지 않을 때 업데이트 빈도 자동 조절

## 📋 모니터링 변수

| 변수명 | 타입 | 설명 | 쓰기 가능 |
|--------|------|------|-----------|
| MyVariable1 | Double | 자동 증가하는 값 | ❌ |
| MyVariable2 | String | 사용자 입력 문자열 | ✅ |
| FreeMemory | Double | 시스템 여유 메모리 (%) | ❌ |
| ProcessName | Float | 랜덤 실수값 | ❌ |

## 🚀 사용 방법

### 1. 의존성 설치
```bash
cd client-server/web-ui
npm install
```

### 2. OPC UA 서버 실행 (별도 터미널)
```bash
cd client-server/myserver  
node sample_server.js
```

### 3. 간단한 웹 UI 실행
```bash
npm start
```

### 4. 브라우저에서 접속
```
http://localhost:3000
```

## 🔧 기술 스택 (간소화됨)

- **백엔드**: Express.js (기본)
- **OPC UA 클라이언트**: node-opcua
- **프론트엔드**: 순수 HTML/CSS/JavaScript
- **통신**: HTTP REST API (폴링 방식)

## 📁 파일 구조

```
web-ui/
├── package.json           # 의존성 (express, node-opcua만)
├── server.js             # 간단한 웹서버
├── public/
│   └── index.html       # 단일 HTML 파일 (CSS/JS 포함)
└── README.md
```

## 🔌 포트 정보

- **OPC UA 서버**: 4334
- **웹 UI**: 3000

## 💡 사용 팁

- **연결 확인**: 상단에 연결 상태가 표시됩니다
- **실시간 모니터링**: 기본 2초 간격으로 자동 업데이트됩니다
- **업데이트 간격 조절**: 1초~10초 사이에서 선택 가능
- **자동 업데이트 제어**: ⏸️/▶️ 버튼으로 자동 업데이트 중지/시작
- **수동 새로고침**: 🔄 버튼으로 즉시 값 업데이트
- **값 변경**: MyVariable2 입력 후 Enter 또는 버튼 클릭 (즉시 반영)
- **성능 최적화**: 페이지가 백그라운드에 있을 때 자동으로 업데이트 빈도 줄임

## 🗑️ 제거된 복잡한 기능들

- ❌ Socket.IO (실시간 WebSocket 통신)
- ❌ Chart.js (실시간 차트)
- ❌ 복잡한 CSS 애니메이션
- ❌ 이벤트 기반 아키텍처
- ❌ 복잡한 UI 컴포넌트

간단하고 직관적인 테이블 UI로 OPC UA 변수를 쉽게 모니터링하세요! 🎉 